{"version":3,"sources":["webpack:///src/views/frames/SquareManage/ActivityManage.vue","webpack:///./src/views/frames/SquareManage/ActivityManage.vue?02ad","webpack:///./src/views/frames/SquareManage/ActivityManage.vue"],"names":["ActivityManage","created","this","getActivityList","computed","extends_default","Object","vuex_esm","activityList","attachFiles","disableDeleteConfirm","deleteReason","disableSearchConfirm","search","condition","keyword","methods","handleSortChange","param","order","prop","getActivityStatus","activityInfo","delete_time","status","tag","private","page","arguments","length","undefined","limit","sort_condition","_this","sort_type","listLoading","$store","dispatch","then","response","console","log","msg","catch","error","getFile","url","fetchType","activityId","fileId","handleGetThumbs","urlList","_this2","image","thumb","_loop","small","blobURL","id","src","push","handleFullscreenImage","_this3","large","fullscreenImageVisible","handlePlayVideo","_this4","video","poster","videoVisible","deleteDialog","tableIndex","showDeleteDialog","handleDeleteConfirm","_this5","disableFreezeConfirm","$confirm","confirmButtonText","cancelButtonText","type","deleteLoading","list","$message","message","filterStatus","value","row","column","handleChangeSearchCondition","handleSearch","_this6","data","images","Consts","const_default","a","showSearchDialog","searchLoading","SquareManage_ActivityManage","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","width","center","on","update:visible","$event","placeholder","model","callback","$$v","expression","_l","reason","key","label","_v","staticClass","slot","click","loading","disabled","path","isVisible","update:isVisible","update:is-visible","staticStyle","display","height","z-index","align-items","position","target","currentTarget","margin","controls","_e","directives","name","rawName","stripe","tooltip-effect","sort-change","scopedSlots","_u","fn","props","label-position","inline","attach_files","image_count","placement","trigger","index","cursor","fit","images_list","nativeOn","mouseenter","_s","video_count","videos_list","delete_reason","align","show-overflow-tooltip","sortable","filters","text","filter-method","scope","keyup","indexOf","_k","keyCode","$set","command","size","$index","hide-on-single-page","background","layout","page-size","page-count","total_page","current-page","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.ac32d8678852025d1a82.js","sourcesContent":["<template>\n    <div>\n        <el-dialog title=\"删帖\" :visible.sync=\"showDeleteDialog\" width=\"250px\" :center=\"true\">\n            <el-select v-model=\"deleteReason\" placeholder=\"请选择动态删除理由\">\n                <el-option\n                    v-for=\"(reason, id) in Consts.deleteReasons\"\n                    :key=\"id\"\n                    :label=\"reason\"\n                    :value=\"id\"\n                ></el-option>\n            </el-select>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"showDeleteDialog = false\">取 消</el-button>\n                <el-button\n                    :loading=\"deleteLoading\"\n                    type=\"primary\"\n                    @click=\"handleDeleteConfirm\"\n                    :disabled=\"disableDeleteConfirm\"\n                >确 定</el-button>\n            </div>\n        </el-dialog>\n        <ImagePreview :path=\"image.large\" :isVisible.sync=\"fullscreenImageVisible\"></ImagePreview>\n        <div\n            v-if=\"videoVisible\"\n            style=\"display: flex; width:90%; height:80%; z-index:100; align-items:center; position:absolute\"\n            @click.self=\"videoVisible = false\"\n        >\n            <video controls :src=\"video.src\" :poster=\"video.poster\" style=\"margin:auto\"></video>\n        </div>\n        <!-- <el-row>\n            <el-button>默认按钮</el-button>\n            <el-button type=\"primary\">主要按钮</el-button>\n            <el-button type=\"success\">成功按钮</el-button>\n            <el-button type=\"info\">信息按钮</el-button>\n            <el-button type=\"warning\">警告按钮</el-button>\n            <el-button type=\"danger\">危险按钮</el-button>\n        </el-row>-->\n        <el-table\n            v-loading=\"listLoading\"\n            :data=\"activityList.list\"\n            style=\"width: 100%\"\n            stripe\n            @sort-change=\"handleSortChange\"\n            tooltip-effect=\"dark\"\n        >\n            <el-table-column type=\"expand\">\n                <template slot-scope=\"props\">\n                    <el-form label-position=\"left\" inline class=\"demo-table-expand\">\n                        <el-form-item label=\"附件\">\n                            <el-popover\n                                placement=\"bottom\"\n                                trigger=\"hover\"\n                                v-if=\"props.row.attach_files.image_count > 0\"\n                            >\n                                <div\n                                    v-for=\"(thumb, index) in image.thumb\"\n                                    :key=\"index\"\n                                    style=\"display: inline\"\n                                >\n                                    <el-image style=\"cursor:pointer\" :src=\"thumb.src\" fit=\"fill\"></el-image>\n                                </div>\n                                <el-tag\n                                    slot=\"reference\"\n                                    style=\"cursor: pointer\"\n                                    type=\"success\"\n                                    @click=\"handleFullscreenImage(props.row.attach_files.images_list, props.row.id)\"\n                                    @mouseenter.native=\"handleGetThumbs(props.row.attach_files.images_list, props.row.id)\"\n                                >{{ '图片:' + props.row.attach_files.image_count }}</el-tag>\n                            </el-popover>\n                            <el-popover\n                                placement=\"right\"\n                                trigger=\"hover\"\n                                v-if=\"props.row.attach_files.video_count > 0\"\n                            >\n                                <div\n                                    v-for=\"(thumb, index) in image.thumb\"\n                                    :key=\"index\"\n                                    style=\"display: inline\"\n                                >\n                                    <el-image\n                                        :src=\"thumb.src\"\n                                        style=\"cursor:pointer\"\n                                        fit=\"fill\"\n                                        @click=\"handlePlayVideo(props.row.attach_files.videos_list, props.row.id, thumb.id)\"\n                                    ></el-image>\n                                </div>\n                                <el-tag\n                                    slot=\"reference\"\n                                    style=\"cursor: pointer\"\n                                    type=\"success\"\n                                    @mouseenter.native=\"handleGetThumbs(props.row.attach_files.videos_list, props.row.id)\"\n                                >{{ '视频:' + props.row.attach_files.video_count }}</el-tag>\n                            </el-popover>\n                        </el-form-item>\n                        <el-form-item v-if=\"props.row.delete_time\" label=\"删除时间\">\n                            <span>{{ props.row.delete_time }}</span>\n                        </el-form-item>\n                        <el-form-item v-if=\"props.row.delete_time\" label=\"删除原因\">\n                            <span>{{ props.row.delete_reason }}</span>\n                        </el-form-item>\n                    </el-form>\n                </template>\n            </el-table-column>\n            <el-table-column align=\"center\" label=\"ID\" prop=\"id\"></el-table-column>\n            <el-table-column align=\"center\" label=\"内容\" prop=\"content\" show-overflow-tooltip></el-table-column>\n            <el-table-column align=\"center\" label=\"发布者\" prop=\"user.username\"></el-table-column>\n            <el-table-column align=\"center\" label=\"发布时间\" prop=\"post_time\" sortable=\"custom\"></el-table-column>\n            <el-table-column align=\"center\" label=\"最近评论\" prop=\"last_comment_time\" sortable=\"custom\"></el-table-column>\n            <el-table-column align=\"center\" label=\"点赞数量\" prop=\"like_count\" sortable=\"custom\"></el-table-column>\n            <el-table-column align=\"center\" label=\"评论数量\" prop=\"comment_count\" sortable=\"custom\"></el-table-column>\n            <el-table-column align=\"center\" label=\"分享数量\" prop=\"share_count\" sortable=\"custom\"></el-table-column>\n            <el-table-column\n                align=\"center\"\n                label=\"状态\"\n                :filters=\"[{ text: '公开', value: '公开' }, { text: '隐藏', value: '隐藏' }, { text: '删除', value: '删除' }]\"\n                :filter-method=\"filterStatus\"\n            >\n                <template slot-scope=\"scope\">\n                    <el-tag\n                        :type=\"getActivityStatus(scope.row).tag\"\n                    >{{ getActivityStatus(scope.row).status }}</el-tag>\n                </template>\n            </el-table-column>\n            <el-table-column align=\"right\">\n                <template slot=\"header\" slot-scope=\"scope\">\n                    <el-input\n                        placeholder=\"请输入关键词\"\n                        v-model=\"search.keyword\"\n                        @keyup.enter.native=\"handleSearch\"\n                    >\n                        <el-dropdown slot=\"prefix\" @command=\"handleChangeSearchCondition\">\n                            <i class=\"el-input__icon el-icon-search\"></i>\n                            <el-dropdown-menu slot=\"dropdown\">\n                                <el-dropdown-item\n                                    :disabled=\"search.condition === 'content'\"\n                                    command=\"content\"\n                                >内容</el-dropdown-item>\n                                <el-dropdown-item\n                                    :disabled=\"search.condition === 'publisher'\"\n                                    command=\"publisher\"\n                                >发布者</el-dropdown-item>\n                            </el-dropdown-menu>\n                        </el-dropdown>\n                    </el-input>\n                </template>\n                <template slot-scope=\"scope\">\n                    <el-button\n                        size=\"mini\"\n                        type=\"warning\"\n                        :loading=\"deleteLoading\"\n                        @click=\"deleteDialog(scope.$index)\"\n                        :disabled=\"scope.row.delete_time ? true : false\"\n                    >删除</el-button>\n                </template>\n            </el-table-column>\n            <div style=\"display: flex\" slot=\"append\">\n                <el-pagination\n                    hide-on-single-page\n                    background\n                    layout=\"prev, pager, next\"\n                    :page-size=\"activityList.limit\"\n                    :page-count=\"activityList.total_page\"\n                    :current-page=\"activityList.page\"\n                    @current-change=\"getActivityList\"\n                    style=\"margin: auto\"\n                ></el-pagination>\n            </div>\n        </el-table>\n    </div>\n</template>\n\n<style>\n.demo-table-expand {\n    font-size: 0;\n}\n.demo-table-expand label {\n    width: 90px;\n    color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n    margin-right: 0;\n    margin-bottom: 0;\n    width: 50%;\n}\n.show-pwd {\n    position: absolute;\n    right: 10px;\n    top: 7px;\n    font-size: 16px;\n    color: #889aa4;\n    cursor: pointer;\n    user-select: none;\n}\n</style>\n\n<script>\nimport Consts from '@/config/const'\nimport { mapGetters } from 'vuex'\n\nexport default {\n    created: function() {\n        this.getActivityList()\n    },\n    computed: {\n        ...mapGetters({\n            activityList: 'activityList',\n            // smallBlobs: 'smallBlobs',\n            // largeBlobs: 'largeBlobs'\n            attachFiles: 'attachFiles'\n        }),\n        disableDeleteConfirm: function() {\n            return !this.deleteReason\n        },\n        disableSearchConfirm: function() {\n            return !(this.search.condition && this.search.keyword)\n        }\n    },\n    methods: {\n        handleSortChange(param) {\n            if (!param.order) {\n                return\n            }\n            this.getActivityList(\n                1,\n                20,\n                param.prop,\n                param.order === 'ascending' ? 'asc' : 'desc'\n            )\n        },\n        getActivityStatus(activityInfo) {\n            if (activityInfo.delete_time) {\n                return {\n                    status: '删除',\n                    tag: 'danger'\n                }\n            } else {\n                if (activityInfo.private) {\n                    return {\n                        status: '隐藏',\n                        tag: 'warning'\n                    }\n                } else {\n                    return {\n                        status: '公开',\n                        tag: 'success'\n                    }\n                }\n            }\n        },\n        getActivityList(\n            page = 1,\n            limit = 20,\n            sort_condition = 'post_time',\n            sort_type = 'DESC',\n            status = 'all'\n        ) {\n            this.listLoading = true\n            this.$store\n                .dispatch('SquareManage/activityList', {\n                    page: page,\n                    limit: limit,\n                    sort_condition: sort_condition,\n                    sort_type: sort_type,\n                    status: status\n                })\n                .then(response => {\n                    console.log(response.msg)\n                    this.listLoading = false\n                })\n                .catch(error => {\n                    console.log(error)\n                    this.listLoading = false\n                })\n        },\n        // 获取附件\n        getFile(url, fetchType, activityId, fileId) {\n            return this.$store.dispatch('SquareManage/getFile', {\n                url: url,\n                fetchType: fetchType,\n                activityId: activityId,\n                fileId: fileId\n            })\n        },\n        handleGetThumbs(urlList, activityId) {\n            this.image.thumb.length = 0\n            for (let fileId in urlList) {\n                this.getFile(\n                    urlList[fileId].small,\n                    'small',\n                    activityId,\n                    fileId\n                ).then(blobURL => {\n                    let thumb = {\n                        id: fileId,\n                        src: blobURL\n                    }\n                    this.image.thumb.push(thumb)\n                })\n            }\n        },\n        handleFullscreenImage(urlList, activityId) {\n            this.image.large.length = 0\n            this.fullscreenImageVisible = true\n            for (let fileId in urlList) {\n                this.getFile(\n                    urlList[fileId].large,\n                    'large',\n                    activityId,\n                    fileId\n                ).then(blobURL => {\n                    this.image.large.push(blobURL)\n                })\n            }\n        },\n        handlePlayVideo(urlList, activityId, fileId) {\n            this.video.src = ''\n            this.video.poster = this.attachFiles.small[activityId][fileId]\n            this.videoVisible = true\n            this.getFile(\n                urlList[fileId].large,\n                'large',\n                activityId,\n                fileId\n            ).then(blobURL => {\n                this.video.src = blobURL\n            })\n        },\n        // 显示删帖对话框\n        deleteDialog(tableIndex) {\n            // 拿到当前操作表格的索引号\n            this.tableIndex = tableIndex\n            this.showDeleteDialog = true\n        },\n        // 确定删除帖子\n        handleDeleteConfirm() {\n            if (!this.disableFreezeConfirm) {\n                this.$confirm(\n                    '此操作将删除该动态内容,附件内容,及其评论信息,此操作无法撤回,是否继续?',\n                    '提示',\n                    {\n                        confirmButtonText: '确定',\n                        cancelButtonText: '取消',\n                        type: 'warning'\n                    }\n                )\n                    .then(() => {\n                        this.deleteLoading = true\n                        this.$store\n                            .dispatch('SquareManage/deleteActivity', {\n                                tableIndex: this.tableIndex,\n                                // eslint-disable-next-line standard/computed-property-even-spacing\n                                activityId: this.activityList.list[\n                                    this.tableIndex\n                                ].id,\n                                deleteReason: this.deleteReason\n                            })\n                            .then(response => {\n                                // Object.assign(\n                                //     this.activityList.list[this.tableIndex],\n                                //     response.data\n                                // )\n                                this.deleteLoading = false\n                                this.showDeleteDialog = false\n                                // Object.assign(this.deleteForm, initDeleteForm())\n                                this.deleteReason = undefined\n                                this.$message({\n                                    message: response.msg,\n                                    type: 'success'\n                                })\n                            })\n                            .catch(() => {\n                                this.deleteLoading = false\n                                this.showDeleteDialog = false\n                            })\n                    })\n                    .catch(() => {\n                        this.$message({\n                            message: '操作已取消',\n                            type: 'info'\n                        })\n                    })\n            }\n        },\n        filterStatus(value, row, column) {\n            return this.getActivityStatus(row).status === value\n        },\n        // 切换查找条件\n        handleChangeSearchCondition(condition) {\n            // console.log(id)\n            this.search.condition = condition\n        },\n        // 执行查找\n        handleSearch() {\n            this.listLoading = true\n            this.$store\n                .dispatch('CommunityManage/searchActivity', this.search)\n                .then(response => {\n                    console.log(response.msg)\n                    this.listLoading = false\n                })\n                .catch(error => {\n                    console.log(error)\n                    this.listLoading = false\n                })\n        }\n    },\n    data() {\n        return {\n            video: {\n                src: '',\n                poster: ''\n            },\n            image: {\n                thumb: [],\n                large: []\n            },\n            search: {\n                condition: 'content',\n                keyword: undefined\n            },\n            images: {},\n            tableIndex: undefined,\n            deleteReason: undefined,\n            Consts: Consts,\n            showDeleteDialog: false,\n            showSearchDialog: false,\n            deleteLoading: false,\n            searchLoading: false,\n            listLoading: true,\n            fullscreenImageVisible: false,\n            videoVisible: false\n        }\n    }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/views/frames/SquareManage/ActivityManage.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-dialog',{attrs:{\"title\":\"删帖\",\"visible\":_vm.showDeleteDialog,\"width\":\"250px\",\"center\":true},on:{\"update:visible\":function($event){_vm.showDeleteDialog=$event}}},[_c('el-select',{attrs:{\"placeholder\":\"请选择动态删除理由\"},model:{value:(_vm.deleteReason),callback:function ($$v) {_vm.deleteReason=$$v},expression:\"deleteReason\"}},_vm._l((_vm.Consts.deleteReasons),function(reason,id){return _c('el-option',{key:id,attrs:{\"label\":reason,\"value\":id}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showDeleteDialog = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"loading\":_vm.deleteLoading,\"type\":\"primary\",\"disabled\":_vm.disableDeleteConfirm},on:{\"click\":_vm.handleDeleteConfirm}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('ImagePreview',{attrs:{\"path\":_vm.image.large,\"isVisible\":_vm.fullscreenImageVisible},on:{\"update:isVisible\":function($event){_vm.fullscreenImageVisible=$event},\"update:is-visible\":function($event){_vm.fullscreenImageVisible=$event}}}),_vm._v(\" \"),(_vm.videoVisible)?_c('div',{staticStyle:{\"display\":\"flex\",\"width\":\"90%\",\"height\":\"80%\",\"z-index\":\"100\",\"align-items\":\"center\",\"position\":\"absolute\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.videoVisible = false}}},[_c('video',{staticStyle:{\"margin\":\"auto\"},attrs:{\"controls\":\"\",\"src\":_vm.video.src,\"poster\":_vm.video.poster}})]):_vm._e(),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.listLoading),expression:\"listLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.activityList.list,\"stripe\":\"\",\"tooltip-effect\":\"dark\"},on:{\"sort-change\":_vm.handleSortChange}},[_c('el-table-column',{attrs:{\"type\":\"expand\"},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('el-form',{staticClass:\"demo-table-expand\",attrs:{\"label-position\":\"left\",\"inline\":\"\"}},[_c('el-form-item',{attrs:{\"label\":\"附件\"}},[(props.row.attach_files.image_count > 0)?_c('el-popover',{attrs:{\"placement\":\"bottom\",\"trigger\":\"hover\"}},[_vm._l((_vm.image.thumb),function(thumb,index){return _c('div',{key:index,staticStyle:{\"display\":\"inline\"}},[_c('el-image',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"src\":thumb.src,\"fit\":\"fill\"}})],1)}),_vm._v(\" \"),_c('el-tag',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"reference\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.handleFullscreenImage(props.row.attach_files.images_list, props.row.id)}},nativeOn:{\"mouseenter\":function($event){return _vm.handleGetThumbs(props.row.attach_files.images_list, props.row.id)}},slot:\"reference\"},[_vm._v(_vm._s('图片:' + props.row.attach_files.image_count))])],2):_vm._e(),_vm._v(\" \"),(props.row.attach_files.video_count > 0)?_c('el-popover',{attrs:{\"placement\":\"right\",\"trigger\":\"hover\"}},[_vm._l((_vm.image.thumb),function(thumb,index){return _c('div',{key:index,staticStyle:{\"display\":\"inline\"}},[_c('el-image',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"src\":thumb.src,\"fit\":\"fill\"},on:{\"click\":function($event){return _vm.handlePlayVideo(props.row.attach_files.videos_list, props.row.id, thumb.id)}}})],1)}),_vm._v(\" \"),_c('el-tag',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"slot\":\"reference\",\"type\":\"success\"},nativeOn:{\"mouseenter\":function($event){return _vm.handleGetThumbs(props.row.attach_files.videos_list, props.row.id)}},slot:\"reference\"},[_vm._v(_vm._s('视频:' + props.row.attach_files.video_count))])],2):_vm._e()],1),_vm._v(\" \"),(props.row.delete_time)?_c('el-form-item',{attrs:{\"label\":\"删除时间\"}},[_c('span',[_vm._v(_vm._s(props.row.delete_time))])]):_vm._e(),_vm._v(\" \"),(props.row.delete_time)?_c('el-form-item',{attrs:{\"label\":\"删除原因\"}},[_c('span',[_vm._v(_vm._s(props.row.delete_reason))])]):_vm._e()],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"ID\",\"prop\":\"id\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"内容\",\"prop\":\"content\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"发布者\",\"prop\":\"user.username\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"发布时间\",\"prop\":\"post_time\",\"sortable\":\"custom\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"最近评论\",\"prop\":\"last_comment_time\",\"sortable\":\"custom\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"点赞数量\",\"prop\":\"like_count\",\"sortable\":\"custom\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"评论数量\",\"prop\":\"comment_count\",\"sortable\":\"custom\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"分享数量\",\"prop\":\"share_count\",\"sortable\":\"custom\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"label\":\"状态\",\"filters\":[{ text: '公开', value: '公开' }, { text: '隐藏', value: '隐藏' }, { text: '删除', value: '删除' }],\"filter-method\":_vm.filterStatus},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":_vm.getActivityStatus(scope.row).tag}},[_vm._v(_vm._s(_vm.getActivityStatus(scope.row).status))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"header\",fn:function(scope){return [_c('el-input',{attrs:{\"placeholder\":\"请输入关键词\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleSearch($event)}},model:{value:(_vm.search.keyword),callback:function ($$v) {_vm.$set(_vm.search, \"keyword\", $$v)},expression:\"search.keyword\"}},[_c('el-dropdown',{attrs:{\"slot\":\"prefix\"},on:{\"command\":_vm.handleChangeSearchCondition},slot:\"prefix\"},[_c('i',{staticClass:\"el-input__icon el-icon-search\"}),_vm._v(\" \"),_c('el-dropdown-menu',{attrs:{\"slot\":\"dropdown\"},slot:\"dropdown\"},[_c('el-dropdown-item',{attrs:{\"disabled\":_vm.search.condition === 'content',\"command\":\"content\"}},[_vm._v(\"内容\")]),_vm._v(\" \"),_c('el-dropdown-item',{attrs:{\"disabled\":_vm.search.condition === 'publisher',\"command\":\"publisher\"}},[_vm._v(\"发布者\")])],1)],1)],1)]}},{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"loading\":_vm.deleteLoading,\"disabled\":scope.row.delete_time ? true : false},on:{\"click\":function($event){return _vm.deleteDialog(scope.$index)}}},[_vm._v(\"删除\")])]}}])}),_vm._v(\" \"),_c('div',{staticStyle:{\"display\":\"flex\"},attrs:{\"slot\":\"append\"},slot:\"append\"},[_c('el-pagination',{staticStyle:{\"margin\":\"auto\"},attrs:{\"hide-on-single-page\":\"\",\"background\":\"\",\"layout\":\"prev, pager, next\",\"page-size\":_vm.activityList.limit,\"page-count\":_vm.activityList.total_page,\"current-page\":_vm.activityList.page},on:{\"current-change\":_vm.getActivityList}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9c38be5c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/frames/SquareManage/ActivityManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9c38be5c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ActivityManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityManage.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ActivityManage.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9c38be5c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ActivityManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/frames/SquareManage/ActivityManage.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}